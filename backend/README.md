# Kledje Backend API

ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ุงูุฎูููุฉ ููุชุฌุฑ Kledje - ูุธุงู ุฅุฏุงุฑุฉ ูุชุฌุฑ ุฅููุชุฑููู ูุชูุงูู.

## ุงููููุฒุงุช

- ๐ **ูุธุงู ูุตุงุฏูุฉ ุขูู** - JWT tokens ูุน ุชุดููุฑ ูููุงุช ุงููุฑูุฑ
- ๐ฆ **ุฅุฏุงุฑุฉ ุงูููุชุฌุงุช** - CRUD operations ูุงููุฉ ููููุชุฌุงุช
- ๐ **ุฅุฏุงุฑุฉ ุงูุทูุจุงุช** - ุชุชุจุน ุงูุทูุจุงุช ูุชุญุฏูุซ ุงูุญุงูุงุช
- ๐ฏ **ูุธุงู ุงูุนุฑูุถ** - ุฅุฏุงุฑุฉ ุงูุนุฑูุถ ูุงูุฎุตููุงุช
- โ๏ธ **ุฅุนุฏุงุฏุงุช ุงููููุน** - ุชุฎุตูุต ุฅุนุฏุงุฏุงุช ุงููุชุฌุฑ
- ๐ **ุฑูุน ุงููููุงุช** - ุฑูุน ููุนุงูุฌุฉ ุงูุตูุฑ
- ๐ง **ุฅุดุนุงุฑุงุช ุงูุจุฑูุฏ ุงูุฅููุชุฑููู** - ุชุฃููุฏ ุงูุทูุจุงุช ูุงูุชุญุฏูุซุงุช
- ๐ก๏ธ **ุงูุฃูุงู** - Rate limiting, CORS, Helmet
- ๐ **ูุงุนุฏุฉ ุงูุจูุงูุงุช** - Supabase PostgreSQL
- โ **ุงูุชุญูู ูู ุงูุจูุงูุงุช** - Joi validation

## ุงูุชูููุงุช ุงููุณุชุฎุฏูุฉ

- **Node.js** - ุจูุฆุฉ ุงูุชุดุบูู
- **Express.js** - ุฅุทุงุฑ ุงูุนูู
- **Supabase** - ูุงุนุฏุฉ ุงูุจูุงูุงุช
- **JWT** - ุงููุตุงุฏูุฉ
- **Multer & Sharp** - ุฑูุน ููุนุงูุฌุฉ ุงูุตูุฑ
- **Nodemailer** - ุฅุฑุณุงู ุงูุฅููููุงุช
- **Joi** - ุงูุชุญูู ูู ุงูุจูุงูุงุช

## ุงูุชุซุจูุช ูุงูุชุดุบูู

### ุงููุชุทูุจุงุช
- Node.js (ุงูุฅุตุฏุงุฑ 18 ุฃู ุฃุญุฏุซ)
- npm ุฃู yarn
- ุญุณุงุจ Supabase

### ุฎุทูุงุช ุงูุชุซุจูุช

1. **ุงุณุชูุณุงุฎ ุงููุดุฑูุน**
```bash
git clone <repository-url>
cd backend
```

2. **ุชุซุจูุช ุงูุชุจุนูุงุช**
```bash
npm install
```

3. **ุฅุนุฏุงุฏ ูุชุบูุฑุงุช ุงูุจูุฆุฉ**
```bash
cp .env.example .env
```

ูู ุจุชุญุฏูุซ ููู `.env` ุจุงูููู ุงูุตุญูุญุฉ:
```env
PORT=5000
NODE_ENV=development

SUPABASE_URL=your_supabase_url
SUPABASE_ANON_KEY=your_supabase_anon_key
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key

JWT_SECRET=your_jwt_secret_key
JWT_EXPIRES_IN=7d

EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USER=your_email@gmail.com
EMAIL_PASS=your_email_password
```

4. **ุชุดุบูู ุงูุฎุงุฏู**
```bash
# ููุชุทููุฑ
npm run dev

# ููุฅูุชุงุฌ
npm start
```

## ููุงุท ุงูููุงูุฉ (Endpoints)

### ุงููุตุงุฏูุฉ
- `POST /api/auth/register` - ุชุณุฌูู ูุณุชุฎุฏู ุฌุฏูุฏ
- `POST /api/auth/login` - ุชุณุฌูู ุงูุฏุฎูู
- `GET /api/auth/me` - ุงูุญุตูู ุนูู ุจูุงูุงุช ุงููุณุชุฎุฏู ุงูุญุงูู
- `PUT /api/auth/profile` - ุชุญุฏูุซ ุงูููู ุงูุดุฎุตู
- `PUT /api/auth/password` - ุชุบููุฑ ูููุฉ ุงููุฑูุฑ

### ุงูููุชุฌุงุช
- `GET /api/products` - ุงูุญุตูู ุนูู ุฌููุน ุงูููุชุฌุงุช
- `GET /api/products/:id` - ุงูุญุตูู ุนูู ููุชุฌ ูุงุญุฏ
- `POST /api/products` - ุฅุถุงูุฉ ููุชุฌ ุฌุฏูุฏ (ูุฏูุฑ ููุท)
- `PUT /api/products/:id` - ุชุญุฏูุซ ููุชุฌ (ูุฏูุฑ ููุท)
- `DELETE /api/products/:id` - ุญุฐู ููุชุฌ (ูุฏูุฑ ููุท)
- `GET /api/products/meta/categories` - ุงูุญุตูู ุนูู ุงููุฆุงุช

### ุงูุทูุจุงุช
- `GET /api/orders` - ุงูุญุตูู ุนูู ุฌููุน ุงูุทูุจุงุช (ูุฏูุฑ ููุท)
- `GET /api/orders/:id` - ุงูุญุตูู ุนูู ุทูุจ ูุงุญุฏ
- `POST /api/orders` - ุฅูุดุงุก ุทูุจ ุฌุฏูุฏ
- `PUT /api/orders/:id/status` - ุชุญุฏูุซ ุญุงูุฉ ุงูุทูุจ (ูุฏูุฑ ููุท)
- `GET /api/orders/meta/stats` - ุฅุญุตุงุฆูุงุช ุงูุทูุจุงุช (ูุฏูุฑ ููุท)

### ุงูุนุฑูุถ
- `GET /api/offers` - ุงูุญุตูู ุนูู ุฌููุน ุงูุนุฑูุถ
- `GET /api/offers/:id` - ุงูุญุตูู ุนูู ุนุฑุถ ูุงุญุฏ
- `POST /api/offers` - ุฅุถุงูุฉ ุนุฑุถ ุฌุฏูุฏ (ูุฏูุฑ ููุท)
- `PUT /api/offers/:id` - ุชุญุฏูุซ ุนุฑุถ (ูุฏูุฑ ููุท)
- `DELETE /api/offers/:id` - ุญุฐู ุนุฑุถ (ูุฏูุฑ ููุท)
- `GET /api/offers/meta/active` - ุงูุนุฑูุถ ุงููุดุทุฉ

### ุงูุฅุนุฏุงุฏุงุช
- `GET /api/settings` - ุงูุญุตูู ุนูู ุฅุนุฏุงุฏุงุช ุงููููุน
- `PUT /api/settings` - ุชุญุฏูุซ ุฅุนุฏุงุฏุงุช ุงููููุน (ูุฏูุฑ ููุท)
- `GET /api/settings/contact` - ูุนูููุงุช ุงูุชูุงุตู
- `PUT /api/settings/contact` - ุชุญุฏูุซ ูุนูููุงุช ุงูุชูุงุตู (ูุฏูุฑ ููุท)

### ุฑูุน ุงููููุงุช
- `POST /api/upload/image` - ุฑูุน ุตูุฑุฉ ูุงุญุฏุฉ (ูุฏูุฑ ููุท)
- `POST /api/upload/images` - ุฑูุน ุนุฏุฉ ุตูุฑ (ูุฏูุฑ ููุท)
- `DELETE /api/upload/:filename` - ุญุฐู ุตูุฑุฉ (ูุฏูุฑ ููุท)

## ุฃูุซูุฉ ุงูุงุณุชุฎุฏุงู

### ุชุณุฌูู ูุณุชุฎุฏู ุฌุฏูุฏ
```javascript
const response = await fetch('/api/auth/register', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    name: 'ูุงุทูุฉ ุฃุญูุฏ',
    email: 'fatma@example.com',
    password: 'password123',
    phone: '01012345678'
  })
});

const data = await response.json();
```

### ุงูุญุตูู ุนูู ุงูููุชุฌุงุช
```javascript
const response = await fetch('/api/products?page=1&limit=10&category=ุงูุนูุงูุฉ ุจุงูุจุดุฑุฉ');
const data = await response.json();
```

### ุฅูุดุงุก ุทูุจ ุฌุฏูุฏ
```javascript
const response = await fetch('/api/orders', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    items: [
      {
        id: 'product-id',
        name: 'ูุฑูู ูุฎูุฑูุง',
        price: 225,
        quantity: 2
      }
    ],
    customer_info: {
      firstName: 'ูุงุทูุฉ',
      lastName: 'ุฃุญูุฏ',
      phone: '01012345678',
      email: 'fatma@example.com',
      city: 'ุงููุงูุฑุฉ',
      address: 'ุดุงุฑุน ุงูุชุญุฑูุฑุ ูุณุท ุงูุจูุฏ'
    },
    payment_method: 'cod'
  })
});

const data = await response.json();
```

## ุงูุฃูุงู

- **Rate Limiting**: ุญุฏ ุฃูุตู 100 ุทูุจ ูู 15 ุฏูููุฉ
- **CORS**: ูููููู ููุณูุงุญ ุจุงูุทูุจุงุช ูู ุงููุทุงูุงุช ุงููุญุฏุฏุฉ
- **Helmet**: ุญูุงูุฉ ูู ุงูุซุบุฑุงุช ุงูุฃูููุฉ ุงูุดุงุฆุนุฉ
- **JWT**: ุฑููุฒ ูุตุงุฏูุฉ ุขููุฉ
- **Password Hashing**: ุชุดููุฑ ูููุงุช ุงููุฑูุฑ ุจุงุณุชุฎุฏุงู bcrypt

## ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก

ุฌููุน ุงูุงุณุชุฌุงุจุงุช ุชุชุจุน ููุณ ุงูุชูุณูู:

```javascript
// ูุฌุญ ุงูุทูุจ
{
  "success": true,
  "data": { ... },
  "message": "ุฑุณุงูุฉ ุงุฎุชูุงุฑูุฉ"
}

// ูุดู ุงูุทูุจ
{
  "success": false,
  "error": "ุฑุณุงูุฉ ุงูุฎุทุฃ"
}
```

## ุงููุณุงููุฉ

1. Fork ุงููุดุฑูุน
2. ุฅูุดุงุก ูุฑุน ููููุฒุฉ ุงูุฌุฏูุฏุฉ
3. Commit ุงูุชุบููุฑุงุช
4. Push ูููุฑุน
5. ุฅูุดุงุก Pull Request

## ุงูุชุฑุฎูุต

ูุฐุง ุงููุดุฑูุน ูุฑุฎุต ุชุญุช ุฑุฎุตุฉ MIT.